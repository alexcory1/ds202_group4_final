---
title: "readme"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r}

library(data.table)
df <- fread('MD_COVID-19_-_MASTER_Case_Tracker.csv')
show(df)
```

## Including Plots
```{r}
library(tidyverse)
library(lubridate)
library(dplyr)
```

```{r}


df1 <- df %>% dplyr::mutate(year = year(as.Date(df$ReportDate,format="%m/%d/%Y")),
                 month = lubridate::month(as.Date(df$ReportDate,format="%m/%d/%Y")),
                 day = lubridate::day(as.Date(df$ReportDate,format="%m/%d/%Y")),
                 date = my(format(as.Date(df$ReportDate,format = "%m/%d/%Y"),"%m/%y")))
```


You can also embed plots, for example:
```{r}
ggplot(data=df1, aes(x=df1$date, y=df1$TotalCases, color=CaseDelta)) +
  xlab("Month") +
  ylab("Total Cases") +
  scale_colour_gradientn(colors=rainbow(4)) +
  geom_line()+
  geom_point() +
  scale_x_date(date_labels = "%m-%y",
               date_breaks = "2 month") +
  theme(axis.text.x = element_text(angle = 45, hjust=1))
```

```{r}
ggplot(data=df1, aes(x=df1$date, y=df$PosTestPercent)) +
  geom_line()+
  xlab("Month") +
  ylab("Percentage of Positive Tests") +
  geom_point() +
  scale_x_date(date_labels = "%m-%y",
               date_breaks = "2 month") +
  theme(axis.text.x = element_text(angle = 45, hjust=1))
```

```{r}
ggplot(data=df1, aes(x=df1$total_hospitalized, y=df1$bedsTotal)) +
  xlab("Total Hospitalized") +
  ylab("Hospital Beds Available") +
  geom_point()
```


```{r}
proportion = df1$total_released / df1$total_hospitalized
ggplot(data=df1, aes(x=df1$month, y=proportion, color=CaseDelta)) +
  facet_grid(. ~df1$year)+
  scale_colour_gradientn(colors=rainbow(4)) +
  xlab("Month Reported") +
  ylab("Proportion") +
  geom_point()

```

```{r}

df1[is.na(df1)] = 0

ggplot(data=df1, aes(y=df1$deathsDelta, x=df1$CaseDelta)) +
  ylab("New Deaths") +
  xlab("New Cases") +
  geom_abline()+  
  geom_point()

```


Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
